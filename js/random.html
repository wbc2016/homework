<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>

        .outer {
            width: 300px;
            margin:80px auto 0;
            text-align: center;
        }

        .sel {
            width: 300px;
            height: 120px;
            line-height:120px;
            text-align: center;
            border:1px solid #000;
        }

        .btn {
            margin: 15px 0;
        }


    </style>
</head>
<body>


    <div class="outer">
        <div id="sel" class="sel">点击开始</div>
        <div class="btn">
            <button id="startBtn">开始</button>
            <button id="stopBtn">停止</button>
        </div>
        <div id="add">
            <input id="input" type="text">
            <button id="addBtn">新增</button>
        </div>
    </div>



    <script>
        var startBtn=document.getElementById('startBtn'),
            stopBtn=document.getElementById('stopBtn'),
            addBtn=document.getElementById('addBtn'),
            sel=document.getElementById('sel'),
            input=document.getElementById('input'),

            // var arr=['故宫','长城','十渡','欢乐谷','圆明园','颐和园'];
            arr='故宫 长城 十渡 欢乐谷 圆明园 颐和园'.split(' '),
            index,
            len,
            timer,
            newArray;

            startBtn.onclick=function() {
                var len=arr.length;
                startBtn.disabled='disabled';
                timer=setInterval(function() {
                    index=Math.floor(Math.random()*len+0);
                    sel.innerHTML=arr[index];
                },100)               
                // console.log(arr[index]);
                // console.log(arr);
                // console.log(index);
            };

            stopBtn.onclick=function() {
                clearInterval(timer);
                startBtn.disabled='';
            };

            addBtn.onclick=function() {
                var value=input.value;
                var newArray=value.split('|'),
                    len=newArray.length;
                // console.log(value);
                // arr.push(value);
                // arr=arr.concat(newArray);

                for (var i=0;i<len;i++) {
                    if(InArray(newArray[i],arr)) {
                        alert(newArray[i]+'已存在');
                    } else if (newArray[i]=='') {
                        alert('不能添加空项');
                    } else {
                        arr.push(newArray[i]);
                        alert('不存在，可以添加');
                    }

                }

                // for (var i=0;i<len;i++) {
                //     if (newArray[i]=='') {
                //         alert('不能添加空项');
                //     }
                // }

                console.log(arr);
                input.value='';   
            };


            var InArray=function(item,arr) {
                var i,len=arr.length;
                for (i=0;i<len;i++) {
                    if(arr[i]==item) {
                        return true;
                    }
                }
                return false;
            };
    </script>
</body>
</html>